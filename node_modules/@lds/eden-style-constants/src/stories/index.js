import React from "react";
import { storiesOf } from "@storybook/react";
import styled from "styled-components";

import * as cssVars from "../index";
import Demo from "../Demo";

const Container = styled.div`
  font: normal normal normal ${cssVars.fontSize18} / ${cssVars.lineHeightLoose}
    ${cssVars.serif};
  margin: 0 auto;
  max-width: 80vw;
`;

const FlexContainer = styled.div`
  align-items: ${props => props.alignItems};
  display: ${props => (props.inline ? "flex-inline" : "flex")};
  justify-content: ${props => props.justifyContent};
`;

const Row = styled(FlexContainer)`
  padding: ${cssVars.spacing4} 0;
`;

const FlexItem = styled.div`
  align-self: ${props => props.alignSelf};
  flex: ${props => props.flex};
`;

const FlexStrong = styled(FlexItem.withComponent("strong"))`
  margin-right: ${cssVars.spacing8};
`;

const FlexVal = styled(FlexItem.withComponent("span"))`
  text-align: right;
`;

const H1 = styled.h1`
  font: ${cssVars.sans};
`;

storiesOf("Style Constants", module)
  .add("Demo", () => <Demo />)
  .add("values", () => (
    <Container>
      <H1>CSS Constants</H1>
      {Object.keys(cssVars).map((prop, index) => (
        <Row key={index} justifyContent="space-between">
          <FlexStrong>{prop}:</FlexStrong>
          <FlexVal>
            {typeof cssVars[prop] === "string"
              ? cssVars[prop]
              : JSON.stringify(cssVars[prop])}
          </FlexVal>
        </Row>
      ))}
    </Container>
  ));
